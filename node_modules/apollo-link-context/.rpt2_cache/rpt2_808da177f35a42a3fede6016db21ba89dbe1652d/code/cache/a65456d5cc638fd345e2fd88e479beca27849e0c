{"map":"{\"version\":3,\"file\":\"index.js\",\"sourceRoot\":\"\",\"sources\":[\"../../src/index.ts\"],\"names\":[],\"mappings\":\";AAAA,OAAO,EACL,UAAU,EACV,UAAU,GAIX,MAAM,aAAa,CAAC;AAOrB,MAAM,CAAC,IAAM,UAAU,GAAG,UAAC,MAAqB;IAC9C,OAAA,IAAI,UAAU,CAAC,UAAC,SAAoB,EAAE,OAAiB;QACrD,IAAQ,uCAAwB,CAAC;QAEjC,OAAO,IAAI,UAAU,CAAC,UAAA,QAAQ;YAC5B,IAAI,MAAM,CAAC;YACX,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC;iBACrB,IAAI,CAAC,UAAA,GAAG,IAAI,OAAA,MAAM,CAAC,GAAG,EAAE,SAAS,CAAC,UAAU,EAAE,CAAC,EAAnC,CAAmC,CAAC;iBAChD,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC;iBAC1B,IAAI,CAAC;gBACJ,MAAM,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC,SAAS,CAAC;oBACpC,IAAI,EAAE,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;oBAClC,KAAK,EAAE,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC;oBACpC,QAAQ,EAAE,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC;iBAC3C,CAAC,CAAC;YACL,CAAC,CAAC;iBACD,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;YAExC,OAAO;gBACL,IAAI,MAAM;oBAAE,MAAM,CAAC,WAAW,EAAE,CAAC;YACnC,CAAC,CAAC;QACJ,CAAC,CAAC,CAAC;IACL,CAAC,CAAC;AArBF,CAqBE,CAAC\"}","code":"import * as tslib_1 from \"tslib\";\r\nimport { ApolloLink, Observable, } from 'apollo-link';\r\nexport var setContext = function (setter) {\r\n    return new ApolloLink(function (operation, forward) {\r\n        var request = tslib_1.__rest(operation, []);\r\n        return new Observable(function (observer) {\r\n            var handle;\r\n            Promise.resolve(request)\r\n                .then(function (req) { return setter(req, operation.getContext()); })\r\n                .then(operation.setContext)\r\n                .then(function () {\r\n                handle = forward(operation).subscribe({\r\n                    next: observer.next.bind(observer),\r\n                    error: observer.error.bind(observer),\r\n                    complete: observer.complete.bind(observer),\r\n                });\r\n            })\r\n                .catch(observer.error.bind(observer));\r\n            return function () {\r\n                if (handle)\r\n                    handle.unsubscribe();\r\n            };\r\n        });\r\n    });\r\n};\r\n//# sourceMappingURL=index.js.map","dtsmap":{"name":"/Users/hwillson/Documents/git/apollo/apollo-link/packages/apollo-link-context/index.d.ts.map","writeByteOrderMark":false,"text":"{\"version\":3,\"file\":\"index.d.ts\",\"sourceRoot\":\"\",\"sources\":[\"src/index.ts\"],\"names\":[],\"mappings\":\"AAAA,OAAO,EACL,UAAU,EAIV,cAAc,EACf,MAAM,aAAa,CAAC;AAErB,oBAAY,aAAa,GAAG,CAC1B,SAAS,EAAE,cAAc,EACzB,WAAW,EAAE,GAAG,KACb,OAAO,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC;AAExB,eAAO,MAAM,UAAU,uCAsBnB,CAAC\"}"},"dts":{"name":"/Users/hwillson/Documents/git/apollo/apollo-link/packages/apollo-link-context/index.d.ts","writeByteOrderMark":false,"text":"import { ApolloLink, GraphQLRequest } from 'apollo-link';\r\nexport declare type ContextSetter = (operation: GraphQLRequest, prevContext: any) => Promise<any> | any;\r\nexport declare const setContext: (setter: ContextSetter) => ApolloLink;\r\n//# sourceMappingURL=index.d.ts.map"}}
